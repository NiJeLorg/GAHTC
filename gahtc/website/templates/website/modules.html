{% extends 'website/base.html' %} {% load staticfiles %} {% block title %}Modules{% endblock %} {% block css_block %} {% endblock %} {% block head_js_block %} {% endblock %} {% block content %}
<!-- Page Content -->
<p class="featured-modules-title">featured modules</p>
<div class="featured-modules-container">
    <div class="featured-modules">
        {% for module_returned in modules_returned %} {% if module_returned.featured > 0 %}
        <div class="image-container" style="background: url('/media/{{module_returned.cover_image}}')">
            <div class="title-container">
                <h4><a href="#heading_{{ module_returned.id }}">{{ module_returned.title }}</a></h4>
            </div>
        </div>
        {% endif%} {% endfor %}
    </div>
</div>
<p class="all-modules-title">all modules</p>
<div class="all-modules">
    <div class="marginBottom15">
        <div class="panel-group" id="accordion_modules" role="tablist" aria-multiselectable="true">
            {% for module_returned in modules_returned %}
            <div class="panel panel-default module" id="heading_{{ module_returned.id }}">
                <h3 class="module-heading">{{ module_returned.title }}</h3>
                <div class="module-contents">
                    <div class="module-photo-container" style="background: url('/media/{{module_returned.cover_image}}')">
                    </div>
                    <div class="module-text">
                        <p class="description">
                            {{ module_returned.description }}
                        </p>
                        <p class='created-by'>created by:</p>
                        <footer>
                            <div class="authors-docs">
                                <div class="authors">
                                    <p>{% for authors in module_returned.authors_m2m.all %}
                                        <a href="/members/#{{ authors.id }}">{{ authors.first_name }} {{ authors.last_name }}</a>{% if not forloop.last %}, {% endif %} {% endfor %}
                                    </p>
                                </div>
                                <div class="docs">
                                    <p>supporting documents:</p>
                                </div>
                            </div>
                            <div class="download-module">
                                {% if user.is_authenticated %} {% if request.user.userProfile.verified %}
                                <button type="button" class="button" data-moduleid="{{ module_returned.id }}">Download Module</button>
                                {% else %}
                                <button type="button" class="button" data-toggle="modal" data-target="#waitingForVerification">Download Module</button>
                                {% endif %}
                                <div class="dropdown">
                                    <button class="btn btn-danger gahtcRed pull-right" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                    </button>
                                    <ul class="dropdown-menu dropdown-menu-right bundles" aria-labelledby="" data-itemid="module_{{ module.id }}">
                                        {% include "website/bundle_dropdown.html" %}
                                    </ul>
                                </div>
                                {% endif %}
                            </div>
                        </footer>
                    </div>
                </div>
                <div id="{{ module_returned.id }}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="{{ module_returned.id }}">
                    <div class="panel-body">
                        <div class="lecture-container">
                            {% if module_returned.moduleLecs|length > 0 %} {% for lec in module_returned.moduleLecs %}
                            <div class="lecture-document">
                                <div class="image-holder" style="background: url('/media/{{lec.getSlideOne}}')">
                                    {% if user.is_authenticated %}
                                    <button type='button' class="preview-slides launchModal" data-lectureid="{{ lec.id }}">preview slides</button>
                                    {% endif %}
                                </div>
                                <div class="lecture-description">
                                    <div class="title-and-buttons">
                                        <h3>{{lec.title}}</h3>
                                        <div class="lecture-buttons">
                                            <a href="/lectures/#{{lec.id}}" class="see-details">see details</a>
                                            <div class="download-lecture">
                                                {% if user.is_authenticated %}
                                                <div class="dropdown">
                                                    <button class="btn btn-danger gahtcRed pull-right" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                                    </button>
                                                    <ul class="dropdown-menu dropdown-menu-right bundles" aria-labelledby="" data-itemid="lecture_{{ lecture.object.id }}">
                                                        {% include "website/bundle_dropdown.html" %}
                                                    </ul>
                                                </div>
                                                {% if request.user.userProfile.verified %}
                                                <button type="button" class="btn-danger gahtcRed downloadLecture pull-right marginRight5" data-lectureid="{{ lecture.object.id }}">
                                                    <span class="glyphicon glyphicon-download" aria-hidden="true"></span>
                                                </button>
                                                {% else %}
                                                <button type="button" class="btn btn-danger gahtcRed pull-right marginRight5" data-toggle="modal" data-target="#waitingForVerification">
                                                    <span class="glyphicon glyphicon-download" aria-hidden="true"></span>
                                                </button>
                                                {% endif %} {% endif %}
                                            </div>
                                        </div>
                                    </div>
                                    <p class='lecture-description-text'>{{lec.description}}</p>
                                    <div class="support">
                                        <p>supporting documents: &nbsp;</p>
                                        <ul>
                                            {% for lecDoc in lec.lectureDocs %}
                                            <li>{{ lecDoc.title }}</li>
                                            {% endfor %}
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            {% endfor %} {% endif %}
                            <!--                             <div class="col-md-12">
                                {% if module_returned.moduleLecs %}
                                <h5><span class="label label-success">Lectures</span></h5> {% for lec in module_returned.moduleLecs %}
                                <h4>{{ lec.title }}</h4> {% if user.is_authenticated %}
                                <button type="button" class="btn btn-default btn-xs launchModal" data-lectureid="{{ lec.id }}">Preview lecture</button>
                                {% if request.user.userProfile.verified %}
                                <button type="button" class="btn btn-default btn-xs downloadLecture" data-lectureid="{{ lec.id }}">Download this lecture &amp; documents</button>
                                {% else %}
                                <button type="button" class="btn btn-default btn-xs " data-toggle="modal" data-target="#waitingForVerification">Download this lecture &amp; documents</button>
                                {% endif %} {% endif %} {% if lec.lectureDocs|length > 0 %}
                                <h5><span class="label label-info">Documents for this lecture</span></h5>
                                <ul>
                                    {% for lecDoc in lec.lectureDocs %}
                                    <li>{{ lecDoc.title }}</li>
                                    {% endfor %}
                                </ul>
                                {% endif %} {% if not forloop.last %}
                                <hr /> {% endif %} {% endfor %} {% endif %}
                            </div> -->
                        </div>
                        <div class="related-modules-container">
                            <h4>related modules</h4>
                        </div>
                        <div class="member-comments-container">
                            <h4>member comments</h4>
                        </div>
                        <div class="terms-conditions-container">
                            <p>terms and conditions</p>
                            <p>Terms and Conditions: I understand that this material is to be used only in class room settings. You are free to make changes to fit you constraints or teaching goals. However, this material connanot be used directly or indirectly, in whole or in part, for publication, in any form</p>
                            <p>Instructions.</p>
                            <p>You can download individual files by selecting them from the list. Or download the entire module by clicking the 'Download Module' button above. (We should figure out a way to 'add to my bundle' and a way to display the file size before users click on a link.) Please read the terms and conditions before downloading any content. By downloading content from GAHTC.org you hereby agree to</p>
                        </div>
                    </div>
                </div>
            </div>
            <footer class="module-footer">
                <a class="noTextDecoration" role="button" data-toggle="collapse" data-parent="#accordion_modules" href="#{{ module_returned.id }}" aria-expanded="true" aria-controls="{{ module_returned.id }}">
                    <h4 class="panel-title show-more"> SHOW MORE </h4>
                </a>
            </footer>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %} {% block modal_block %}
<!-- Download Course Bundle Modal -->
<div class="modal fade" id="downloadModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Download Course Materials</h4>
            </div>
            <div class="modal-body">
                <div id="downloadFileArea">
                    <div class="containter">
                        <div class="row">
                            <div class="col-md-3">
                                <img class="img-responsive pull-right" src="{% static 'website/css/images/spiffygif_114x114.gif' %}" />
                            </div>
                            <div class="col-md-9">
                                <h2>Zipping Up Your Materials!</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Awaiting verification modal -->
<div class="modal fade" id="waitingForVerification" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Your account is awaiting verification.</h4>
            </div>
            <div class="modal-body">
                <p>Your account has not yet been verified by a GAHTC administrator. Once your account is verified, you will be able to download course materials. You will be notified by email when your account has been verified. In the meantime, you can continue to search the site and add resources to your bundles. Thank you!</p>
            </div>
        </div>
    </div>
</div>
<!-- Download Course Bundle Modal -->
<div class="modal fade" id="downloadModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Download Lectures</h4>
            </div>
            <div class="modal-body">
                <div id="downloadFileArea">
                    <div class="containter">
                        <div class="row">
                            <div class="col-md-3">
                                <img class="img-responsive pull-right" src="{% static 'website/css/images/spiffygif_114x114.gif' %}" />
                            </div>
                            <div class="col-md-9">
                                <h2>Zipping Up Your Lecture!</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Lecture Slides Modal -->
<div class="modal fade" id="slideshow" tabindex="-1" role="dialog" aria-labelledby="mySlideshow">
</div>
{% endblock %} {% block js_block %}
<script type="text/javascript">
var tab = "none";

</script>
<script type="text/javascript" src="{% static 'website/js/jquery.scrollTo.min.js' %}"></script>
<script type="text/javascript" src="{% static 'website/js/gahtcApplication.js' %}"></script>
<script type="text/javascript" src="{% static 'website/js/application.js' %}"></script>
<script type="text/javascript" src="{% static 'website/js/controllers.js' %}"></script>
{% endblock %}
